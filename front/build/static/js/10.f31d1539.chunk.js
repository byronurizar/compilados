(this.webpackJsonpapibase=this.webpackJsonpapibase||[]).push([[10],{120:function(e,t,a){"use strict";var n=a(1),r=a(3),o=a(6),c=a.n(o),l=a(0),s=a.n(l),i=a(7),u=s.a.forwardRef((function(e,t){var a=e.bsPrefix,o=e.className,l=e.striped,u=e.bordered,m=e.borderless,d=e.hover,b=e.size,p=e.variant,f=e.responsive,E=Object(r.a)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),g=Object(i.b)(a,"table"),v=c()(o,g,p&&g+"-"+p,b&&g+"-"+b,l&&g+"-striped",u&&g+"-bordered",m&&g+"-borderless",d&&g+"-hover"),h=s.a.createElement("table",Object(n.a)({},E,{className:v,ref:t}));if(f){var I=g+"-responsive";return"string"===typeof f&&(I=I+"-"+f),s.a.createElement("div",{className:I},h)}return h}));t.a=u},133:function(e,t){var a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(a){var n=new Uint8Array(16);e.exports=function(){return a(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},134:function(e,t){for(var a=[],n=0;n<256;++n)a[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,r=a;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")}},144:function(e,t,a){var n=a(166),r=a(167),o=r;o.v1=n,o.v4=r,e.exports=o},165:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(4),r=a.n(n),o=a(10),c=a(12),l=a(0),s=a.n(l),i=a(463),u=a(28),m=a(21),d=a(8),b=a(14),p=a(11),f=a(19),E=a(16),g=function(e){var t=e.dataInicial,a=e.abrirModal,n=e.setAbrirModal,g=e.GetCategorias,v=Object(f.a)(t),h=Object(c.a)(v,2),I=h[0],O=h[1],j=Object(l.useState)(!1),x=Object(c.a)(j,2),y=x[0],N=x[1],C=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)("ctl/categoria",{method:"POST",body:JSON.stringify(I)});case 2:e.sent&&(Object(p.b)("Categor\xeda agregada exitosamente"),g(),n(!1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)("ctl/categoria",{method:"PUT",body:JSON.stringify(I)});case 2:(t=e.sent)&&(Object(p.b)(t),g()),n(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(o.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),N(!0),!(t.categoriaId>0)){e.next=7;break}return e.next=5,w();case 5:e.next=9;break;case 7:return e.next=9,C();case 9:N(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement(i.a,{show:a,onHide:function(){return n(!1)}},!0===y?s.a.createElement(E.a,null):s.a.createElement(s.a.Fragment,null,s.a.createElement(i.a.Header,{closeButton:!0},s.a.createElement(i.a.Title,{as:"h5"},t.categoriaId>0?"Actualizar Categor\xeda":"Nueva Categor\xeda")),s.a.createElement(i.a.Body,null,s.a.createElement(d.ValidationForm,{onSubmit:S,onErrorSubmit:function(e,t,a){Object(p.d)("Por favor complete toda la informaci\xf3n solicitada por el formulario")}},s.a.createElement(u.a.Row,null,s.a.createElement(u.a.Group,{as:m.a,md:"12"},s.a.createElement(u.a.Label,{htmlFor:"nombre"},"Nombre"),s.a.createElement(d.TextInput,{name:"nombre",id:"nombre",required:!0,value:I.nombre,onChange:O,errorMessage:"Campo obligatorio",placeholder:"Nombre",autoComplete:"off",style:{textTransform:"capitalize"},type:"text"})),t.categoriaId>0&&s.a.createElement(u.a.Group,{as:m.a,md:"12"},s.a.createElement(u.a.Label,{htmlFor:"estadoId"},"Estado"),s.a.createElement(d.SelectGroup,{name:"estadoId",id:"estadoId",value:I.estadoId,required:!0,errorMessage:"Campo obligatorio",onChange:O},s.a.createElement("option",{value:""},"Seleccione un estado"),s.a.createElement("option",{value:"1"},"Activo"),s.a.createElement("option",{value:"2"},"Inactivo")))),s.a.createElement(u.a.Row,{className:"align-items-center m-l-0"},s.a.createElement(m.a,null),s.a.createElement(m.a,null),s.a.createElement(m.a,{className:"text-right"},s.a.createElement("button",{type:"button",onClick:function(){n(!1)},className:"btn btn-warning"}," Cancelar")),s.a.createElement(m.a,{className:"text-right"},s.a.createElement("button",{type:"submit",className:"btn btn-success"}," ",t.categoriaId>0?"Actualizar":"Registrar")))))))}},166:function(e,t,a){var n,r,o=a(133),c=a(134),l=0,s=0;e.exports=function(e,t,a){var i=t&&a||0,u=t||[],m=(e=e||{}).node||n,d=void 0!==e.clockseq?e.clockseq:r;if(null==m||null==d){var b=o();null==m&&(m=n=[1|b[0],b[1],b[2],b[3],b[4],b[5]]),null==d&&(d=r=16383&(b[6]<<8|b[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),f=void 0!==e.nsecs?e.nsecs:s+1,E=p-l+(f-s)/1e4;if(E<0&&void 0===e.clockseq&&(d=d+1&16383),(E<0||p>l)&&void 0===e.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=p,s=f,r=d;var g=(1e4*(268435455&(p+=122192928e5))+f)%4294967296;u[i++]=g>>>24&255,u[i++]=g>>>16&255,u[i++]=g>>>8&255,u[i++]=255&g;var v=p/4294967296*1e4&268435455;u[i++]=v>>>8&255,u[i++]=255&v,u[i++]=v>>>24&15|16,u[i++]=v>>>16&255,u[i++]=d>>>8|128,u[i++]=255&d;for(var h=0;h<6;++h)u[i+h]=m[h];return t||c(u)}},167:function(e,t,a){var n=a(133),r=a(134);e.exports=function(e,t,a){var o=t&&a||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var c=(e=e||{}).random||(e.rng||n)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,t)for(var l=0;l<16;++l)t[o+l]=c[l];return t||r(c)}},170:function(e,t,a){"use strict";var n=a(4),r=a.n(n),o=a(10),c=a(12),l=a(0),s=a.n(l),i=a(21),u=a(98),m=a(169),d=a(120),b=a(76),p=a(14),f=a(13),E=a(11),g=a(33),v=a.n(g),h=a(34),I=a.n(h),O=a(463),j=a(28),x=a(8),y=a(19),N=a(16),C=function(e){var t=e.dataInicial,a=e.abrirModal,n=e.setAbrirModal,u=e.GetSubCategorias,m=Object(y.a)(t),d=Object(c.a)(m,2),b=d[0],f=d[1],g=Object(l.useState)(!1),v=Object(c.a)(g,2),h=v[0],I=v[1],C=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)("ctl/subcategoria",{method:"POST",body:JSON.stringify(b)});case 2:e.sent&&(Object(E.b)("SubCategor\xeda agregada exitosamente"),u(),n(!1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)("ctl/subcategoria",{method:"PUT",body:JSON.stringify(b)});case 2:(t=e.sent)&&(Object(E.b)(t),u()),n(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(o.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),I(!0),!(t.sub_categoriaId>0)){e.next=7;break}return e.next=5,w();case 5:e.next=9;break;case 7:return e.next=9,C();case 9:I(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement(O.a,{show:a,onHide:function(){return n(!1)}},!0===h?s.a.createElement(N.a,null):s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a.Header,{closeButton:!0},s.a.createElement(O.a.Title,{as:"h5"},t.sub_categoriaId>0?"Actualizar Sub Categor\xeda":"Nueva Sub Categor\xeda")),s.a.createElement(O.a.Body,null,s.a.createElement(x.ValidationForm,{onSubmit:S,onErrorSubmit:function(e,t,a){Object(E.d)("Por favor complete toda la informaci\xf3n solicitada por el formulario")}},s.a.createElement(j.a.Row,null,s.a.createElement(j.a.Group,{as:i.a,md:"12"},s.a.createElement(j.a.Label,{htmlFor:"nombre"},"Nombre"),s.a.createElement(x.TextInput,{name:"nombre",id:"nombre",required:!0,value:b.nombre,onChange:f,errorMessage:"Campo obligatorio",placeholder:"Nombre",autoComplete:"off",style:{textTransform:"capitalize"},type:"text"})),t.sub_categoriaId>0&&s.a.createElement(j.a.Group,{as:i.a,md:"12"},s.a.createElement(j.a.Label,{htmlFor:"estadoId"},"Estado"),s.a.createElement(x.SelectGroup,{name:"estadoId",id:"estadoId",value:b.estadoId,required:!0,errorMessage:"Campo obligatorio",onChange:f},s.a.createElement("option",{value:""},"Seleccione un estado"),s.a.createElement("option",{value:"1"},"Activo"),s.a.createElement("option",{value:"2"},"Inactivo")))),s.a.createElement(j.a.Row,{className:"align-items-center m-l-0"},s.a.createElement(i.a,null),s.a.createElement(i.a,null),s.a.createElement(i.a,{className:"text-right"},s.a.createElement("button",{type:"button",onClick:function(){n(!1)},className:"btn btn-warning"}," Cancelar")),s.a.createElement(i.a,{className:"text-right"},s.a.createElement("button",{type:"submit",className:"btn btn-success"}," ",t.sub_categoriaId>0?"Actualizar":"Registrar")))))))};a.d(t,"a",(function(){return w}));var w=function(e){var t=e.itemCategoria,a=e.exit,n=Object(l.useState)(!0),g=Object(c.a)(n,2),h=(g[0],g[1]),O=Object(l.useState)([]),j=Object(c.a)(O,2),x=j[0],y=j[1],N=Object(l.useState)(!1),w=Object(c.a)(N,2),S=w[0],k=w[1],A={sub_categoriaId:"",categoriaId:t.categoriaId,nombre:"",estadoId:1},M=Object(l.useState)(A),_=Object(c.a)(M,2),G=_[0],F=_[1],P=function(){var e=Object(o.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,Object(p.a)("ctl/subcategoria?categoriaId=".concat(t.categoriaId,"&estadoId=1;2"));case 3:(a=e.sent)&&y(a),h(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){P()}),[t]),s.a.createElement(f.a,null,s.a.createElement(b.a,null,s.a.createElement(i.a,{xl:12,md:12},s.a.createElement(u.a,{key:"btnBack",variant:"success",size:"sm",onClick:function(e){return a()}},s.a.createElement("i",{className:"feather icon-arrow-left"}),"Categorias"),s.a.createElement(m.a,null,s.a.createElement(m.a.Header,null,s.a.createElement("h5",null,"[",t.nombre,"] - Sub Categorias"),s.a.createElement(u.a,{variant:"success",className:"btn-sm btn-round has-ripple",onClick:function(){k(!0),F(A)}},s.a.createElement("i",{className:"feather icon-plus"}),"Add")),s.a.createElement(m.a.Body,null,s.a.createElement(d.a,{responsive:!0,hover:!0,borderless:!0},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"No."),s.a.createElement("th",null,"Nombre"),s.a.createElement("th",{style:{textAlign:"center"}},"Estado"),s.a.createElement("th",{style:{textAlign:"center"}},"Opciones"))),s.a.createElement("tbody",null,x&&x.map((function(e,t){var a,n;return s.a.createElement("tr",{key:"sub_categoriaId".concat(e.sub_categoriaId)},s.a.createElement("td",null,t+1),s.a.createElement("td",null,null===e||void 0===e?void 0:e.nombre),s.a.createElement("td",{style:{textAlign:"center"}},1===e.estadoId?s.a.createElement("label",{className:"badge badge-light-success"},null===e||void 0===e||null===(a=e.Estado)||void 0===a?void 0:a.descripcion):s.a.createElement("label",{className:"badge badge-light-danger"},null===e||void 0===e||null===(n=e.Estado)||void 0===n?void 0:n.descripcion)),s.a.createElement("td",{style:{textAlign:"center"}},s.a.createElement("a",{href:"#",onClick:function(){!function(e){var t=x.find((function(t){return t.sub_categoriaId===e})),a=t.sub_categoriaId,n=t.categoriaId,r=t.nombre,o=t.estadoId;F({sub_categoriaId:a,categoriaId:n,nombre:r,estadoId:o}),k(!0)}(e.sub_categoriaId)}},s.a.createElement("i",{className:"icon feather icon-edit f-w-600 f-16 m-r-15 text-c-green"})),s.a.createElement("a",{href:"#",onClick:function(){var t;t=e.sub_categoriaId,I()(v.a).fire({title:"Alerta?",text:"Esta seguro que desea eliminar el elemento",type:"warning",showCloseButton:!0,showCancelButton:!0}).then(function(){var e=Object(o.a)(r.a.mark((function e(a){var n,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.value){e.next=8;break}return e.next=4,Object(p.a)("ctl/subcategoria/".concat(t),{method:"DELETE"});case 4:(n=e.sent)&&(Object(E.b)(n),o=x.filter((function(e){return e.sub_categoriaId!==t})),y(o)),e.next=9;break;case 8:Object(E.d)("No se elimin\xf3 ning\xfan elemento");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},s.a.createElement("i",{className:"feather icon-trash-2 f-w-600 f-16 text-c-red"}))))}))))),!0===S&&s.a.createElement(C,{abrirModal:S,setAbrirModal:k,GetSubCategorias:P,dataInicial:G})))))}},405:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(4),c=a.n(o),l=a(10),s=a(12),i=a(21),u=a(169),m=a(98),d=a(120),b=a(76),p=a(14),f=a(13),E=a(11),g=a(33),v=a.n(g),h=a(34),I=a.n(h),O=(a(165),a(170),a(28)),j=a(8),x=a(19),y=a(16),N=a(463),C=a(144),w=function(e){var t=e.dataInicial,a=e.abrirModal,o=e.setAbrirModal,c=e.handleAddItem,l=e.handleEditItem,u=e.listCategorias,m=e.listItemsDetalle,d=Object(x.a)(t),b=Object(s.a)(d,2),p=b[0],f=b[1],g=Object(n.useState)(!1),v=Object(s.a)(g,2),h=v[0],I=(v[1],Object(n.useState)([])),w=Object(s.a)(I,2),S=w[0],k=w[1];Object(n.useEffect)((function(){var e=[];u.map((function(a){m.find((function(e){return Number(e.categoriaId)===Number(a.categoriaId)&&Number(e.categoriaId)!==Number(t.categoriaId)&&3!==Number(e.estadoId)}))||e.push(a)})),k(e)}),[]);return r.a.createElement(N.a,{show:a,onHide:function(){return o(!1)}},!0===h?r.a.createElement(y.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a.Header,{closeButton:!0},r.a.createElement(N.a.Title,{as:"h5"},t.presupuesto_detalleId>0?"Actualizar":"Nuevo")),r.a.createElement(N.a.Body,null,r.a.createElement(j.ValidationForm,{onSubmit:function(e){if(e.preventDefault(),Number(p.monto)<=0)return Object(E.d)("El monto debe ser mayor a 0"),!1;var a=u.find((function(e){return Number(e.categoriaId)===Number(p.categoriaId)})).nombre;if(t.presupuesto_detalleId>0||String(t.id).trim().length>0){p.nombre=a,l(p)}else{var n=p;n.nombre=a,n.id=Object(C.v4)(),c(n),console.log(n)}o(!1)},onErrorSubmit:function(e,t,a){Object(E.d)("Por favor complete toda la informaci\xf3n solicitada por el formulario")}},r.a.createElement(O.a.Row,null,r.a.createElement(O.a.Group,{as:i.a,md:"12"},r.a.createElement(O.a.Label,{htmlFor:"categoriaId"},"Categor\xeda"),r.a.createElement(j.SelectGroup,{name:"categoriaId",id:"categoriaId",value:p.categoriaId,required:!0,errorMessage:"Campo obligatorio",onChange:f},r.a.createElement("option",{value:""},"--Seleccione--"),S&&S.map((function(e){var t=e.categoriaId,a=e.nombre;return r.a.createElement("option",{value:t,key:"categoriaId".concat(t)},a)})))),r.a.createElement(O.a.Group,{as:i.a,md:"12"},r.a.createElement(O.a.Label,{htmlFor:"monto"},"Monto"),r.a.createElement(j.TextInput,{name:"monto",id:"monto",required:!0,value:p.monto,onChange:f,errorMessage:"Campo obligatorio",placeholder:"Monto",autoComplete:"off",style:{textTransform:"capitalize"},type:"number"})),t.presupuesto_detalleId>0&&r.a.createElement(O.a.Group,{as:i.a,md:"12"},r.a.createElement(O.a.Label,{htmlFor:"estadoId"},"Estado"),r.a.createElement(j.SelectGroup,{name:"estadoId",id:"estadoId",value:p.estadoId,required:!0,errorMessage:"Campo obligatorio",onChange:f},r.a.createElement("option",{value:""},"Seleccione un estado"),r.a.createElement("option",{value:"1"},"Activo"),r.a.createElement("option",{value:"2"},"Inactivo")))),r.a.createElement(O.a.Row,{className:"align-items-center m-l-0"},r.a.createElement(i.a,null),r.a.createElement(i.a,null),r.a.createElement(i.a,{className:"text-right"},r.a.createElement("button",{type:"button",onClick:function(){o(!1)},className:"btn btn-warning"}," Cancelar")),r.a.createElement(i.a,{className:"text-right"},r.a.createElement("button",{type:"submit",className:"btn btn-success"}," ",t.presupuesto_detalleId>0?"Actualizar":"Registrar")))))))},S={id:"",presupuesto_detalleId:0,categoriaId:0,monto:0,estadoId:1},k=function(e){var t=e.dataInicial,a=e.GetPresupuesto,o=e.handleCloseUpSert,g=e.listMeses,v=e.listCategorias,h=e.setUpSert,I=Object(x.a)(t),y=Object(s.a)(I,2),N=y[0],C=y[1],k=Object(n.useState)(!1),A=Object(s.a)(k,2),M=(A[0],A[1]),_=Object(n.useState)([]),G=Object(s.a)(_,2),F=G[0],P=G[1],T=Object(n.useState)([]),D=Object(s.a)(T,2),R=D[0],q=D[1],z=Object(n.useState)([]),B=Object(s.a)(z,2),L=B[0],H=B[1],J=Object(n.useState)(S),U=Object(s.a)(J,2),V=U[0],Y=U[1],K=Object(n.useState)(!1),Q=Object(s.a)(K,2),W=Q[0],X=Q[1],Z=function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=N).detalle=L,e.next=4,Object(p.a)("ctl/presupuesto",{method:"POST",body:JSON.stringify(t)});case 4:e.sent&&(Object(E.b)("Presupuesto agregado exitosamente"),a(),h(!1));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(l.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=N).detalle=L,e.next=4,Object(p.a)("ctl/presupuesto",{method:"PUT",body:JSON.stringify(t)});case 4:(n=e.sent)&&(Object(E.b)(n),a(),h(!1));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(l.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),M(!0),!(t.presupuestoId>0)){e.next=7;break}return e.next=5,$();case 5:e.next=9;break;case 7:return e.next=9,Z();case 9:M(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){if(null===t||void 0===t?void 0:t.Detalle){var e=t.Detalle.map((function(e){return{presupuesto_detalleId:e.presupuesto_detalleId,categoriaId:e.categoriaId,monto:e.monto,estadoId:e.estadoId,nombre:e.Categoria.nombre,id:""}}));H(e)}}),[]),Object(n.useEffect)((function(){var e=[],t=(new Date).getFullYear(),a=(new Date).getMonth();e.push({anio:t}),Number(a)>10&&e.push({anio:Number(t)+1});var n=g.filter((function(e){return Number(e.mesId)>Number(a)}));P(e),q(n)}),[]);return r.a.createElement(f.a,null,r.a.createElement(b.a,null,r.a.createElement(i.a,{xl:12,md:6},r.a.createElement(m.a,{key:"btnBack",variant:"success",size:"sm",onClick:function(e){o()}},r.a.createElement("i",{className:"feather icon-arrow-left"}),"Lista de Presupuesto"),r.a.createElement(u.a,null,r.a.createElement(u.a.Header,null,r.a.createElement("h5",null,t.presupuestoId>0?"Actualizar Presupuesto":"Nuevo Presupuesto")),r.a.createElement(u.a.Body,null,r.a.createElement(j.ValidationForm,{onSubmit:ee,onErrorSubmit:function(e,t,a){Object(E.d)("Por favor complete toda la informaci\xf3n solicitada por el formulario")}},r.a.createElement(O.a.Row,null,r.a.createElement(O.a.Group,{as:i.a,md:"6"},r.a.createElement(O.a.Label,{htmlFor:"anio"},"A\xf1o"),r.a.createElement(j.SelectGroup,{name:"anio",id:"anio",value:N.anio,required:!0,errorMessage:"Campo obligatorio",onChange:C},r.a.createElement("option",{value:""},"--Seleccione--"),F&&F.map((function(e){var t=e.anio;return r.a.createElement("option",{value:t,key:"anio".concat(t)},t)})))),r.a.createElement(O.a.Group,{as:i.a,md:"6"},r.a.createElement(O.a.Label,{htmlFor:"mesId"},"A\xf1o"),r.a.createElement(j.SelectGroup,{name:"mesId",id:"mesId",value:N.mesId,required:!0,errorMessage:"Campo obligatorio",onChange:C},r.a.createElement("option",{value:""},"--Seleccione--"),R&&R.map((function(e){var t=e.mesId,a=e.descripcion;return r.a.createElement("option",{value:t,key:"mesId".concat(t)},a)})))),r.a.createElement(O.a.Group,{as:i.a,md:"12"},r.a.createElement(O.a.Label,{htmlFor:"descripcion"},"Descripci\xf3n"),r.a.createElement(j.TextInput,{name:"descripcion",id:"descripcion",required:!0,value:N.descripcion,onChange:C,errorMessage:"Campo obligatorio",placeholder:"Descripci\xf3n",autoComplete:"off",style:{textTransform:"capitalize"},type:"text"})),t.categoriaId>0&&r.a.createElement(O.a.Group,{as:i.a,md:"12"},r.a.createElement(O.a.Label,{htmlFor:"estadoId"},"Estado"),r.a.createElement(j.SelectGroup,{name:"estadoId",id:"estadoId",value:N.estadoId,required:!0,errorMessage:"Campo obligatorio",onChange:C},r.a.createElement("option",{value:""},"Seleccione un estado"),r.a.createElement("option",{value:"1"},"Activo"),r.a.createElement("option",{value:"2"},"Inactivo")))),r.a.createElement("h6",null,"Detalle"),r.a.createElement("hr",null),r.a.createElement(d.a,{responsive:!0,hover:!0,borderless:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"No."),r.a.createElement("th",null,"Categor\xeda"),r.a.createElement("th",{style:{textAlign:"center"}},"Monto"),r.a.createElement("th",{style:{textAlign:"center"}},"Estado"),r.a.createElement("th",{style:{textAlign:"center"}},"Opciones"))),r.a.createElement("tbody",null,L&&L.map((function(e,t){var a=e.estadoId;if(console.log({render:!0,item:e,estadoId:a}),3!==Number(a))return r.a.createElement("tr",{key:"detalleId".concat(t)},r.a.createElement("td",null,t+1),r.a.createElement("td",null,null===e||void 0===e?void 0:e.nombre),r.a.createElement("td",{style:{textAlign:"center"}},null===e||void 0===e?void 0:e.monto),r.a.createElement("td",{style:{textAlign:"center"}},1===Number(e.estadoId)?r.a.createElement("label",{className:"badge badge-light-success"},"Activo"):r.a.createElement("label",{className:"badge badge-light-danger"},"Inactivo")),r.a.createElement("td",{style:{textAlign:"center"}},r.a.createElement("a",{href:"#",onClick:function(){!function(e,t){if(Number(e)>0){var a=L.find((function(t){return Number(t.presupuesto_detalleId)===Number(e)}));Y(a)}else{var n=L.find((function(e){return e.id===t}));Y(n)}X(!0)}(e.presupuesto_detalleId,e.id)}},r.a.createElement("i",{className:"icon feather icon-edit f-w-600 f-16 m-r-15 text-c-green"})),r.a.createElement("a",{href:"#",onClick:function(){!function(e){var t=L.filter((function(t){return Number(t.presupuesto_detalleId)>0&&Number(t.presupuesto_detalleId)!==Number(e.presupuesto_detalleId)||t.id!==e.id}));Number(e.presupuesto_detalleId)>0&&(e.estadoId=3,t.push(e)),H(t)}(e)}},r.a.createElement("i",{className:"feather icon-trash-2 f-w-600 f-16 text-c-red"}))))}))),r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("td",{style:{textAlign:"left"},colSpan:"5"},r.a.createElement("a",{href:"#",onClick:function(){X(!0),Y(S)}},r.a.createElement("i",{className:"feather icon-add f-w-600 f-16 text-c-red"}),"Nuevo"))))),r.a.createElement(O.a.Row,{className:"align-items-center m-l-0"},r.a.createElement(i.a,{xl:9,md:12}),r.a.createElement(i.a,{xl:3,md:12,className:"text-right"},r.a.createElement("button",{type:"button",onClick:function(){o()},className:"btn btn-warning m-r-10"}," Cancelar"),r.a.createElement("button",{type:"submit",className:"btn btn-success"}," ",t.presupuestoId>0?"Actualizar":"Registrar"))))),!0===W&&r.a.createElement(w,{abrirModal:W,setAbrirModal:X,dataInicial:V,handleAddItem:function(e){console.log({tipo:"Edit",item:e});var t=L;t.push(e),H(t)},handleEditItem:function(e){var t=L;console.log({tipo:"Edit",item:e,listItemsActuales:t});var a=t.map((function(t){return console.log({itemMap:t}),Number(t.presupuesto_detalleId)===Number(e.presupuesto_detalleId)&&Number(t.presupuesto_detalleId)>0||String(t.id)===String(e.id)&&0===Number(e.presupuesto_detalleId)?(console.log("Entro"),e):t}));H(a)},listCategorias:v,listItemsDetalle:L})))))},A=function(){var e=Object(n.useState)(!0),t=Object(s.a)(e,2),a=(t[0],t[1]),o=Object(n.useState)(!1),g=Object(s.a)(o,2),h=g[0],O=g[1],j=Object(n.useState)([]),x=Object(s.a)(j,2),y=x[0],N=x[1],C=Object(n.useState)([]),w=Object(s.a)(C,2),S=w[0],A=w[1],M=Object(n.useState)([]),_=Object(s.a)(M,2),G=_[0],F=_[1],P=Object(n.useState)(!1),T=Object(s.a)(P,2),D=(T[0],T[1],Object(n.useState)(!1)),R=Object(s.a)(D,2),q=(R[0],R[1],Object(n.useState)(0)),z=Object(s.a)(q,2),B=(z[0],z[1],{presupuestoId:"",anio:"",mesId:"",descripcion:"",estadoId:1,detalle:[]});console.log({listPresupuesto:y});var L=Object(n.useState)(B),H=Object(s.a)(L,2),J=H[0],U=H[1],V=function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,Object(p.a)("ctl/presupuesto?estadoId=1;2");case 3:(t=e.sent)&&N(t),a(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,Object(p.a)("ctl/catalogo/mes");case 3:(t=e.sent)&&A(t),a(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,Object(p.a)("ctl/categoria?estadoId=1&include=0");case 3:(t=e.sent)&&F(t),a(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){V(),Y(),K()}),[]),r.a.createElement(r.a.Fragment,null,h?r.a.createElement(k,{setUpSert:O,dataInicial:J,handleCloseUpSert:function(){O(!1)},GetPresupuesto:V,listMeses:S,listCategorias:G}):r.a.createElement(f.a,null,r.a.createElement(b.a,null,r.a.createElement(i.a,{xl:12,md:6},r.a.createElement(u.a,null,r.a.createElement(u.a.Header,null,r.a.createElement("h5",null,"Presupuesto"),r.a.createElement(m.a,{variant:"success",className:"btn-sm btn-round has-ripple",onClick:function(){U(B),O(!0)}},r.a.createElement("i",{className:"feather icon-plus"}),"Add")),r.a.createElement(u.a.Body,null,r.a.createElement(d.a,{responsive:!0,hover:!0,borderless:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"No."),r.a.createElement("th",null,"Descripci\xf3n"),r.a.createElement("th",{style:{textAlign:"center"}},"A\xf1o"),r.a.createElement("th",{style:{textAlign:"center"}},"Mes"),r.a.createElement("th",{style:{textAlign:"center"}},"Estado"),r.a.createElement("th",{style:{textAlign:"center"}},"Opciones"))),r.a.createElement("tbody",null,y&&y.map((function(e,t){var a,n,o;return r.a.createElement("tr",{key:"presupuestoId".concat(e.presupuestoId)},r.a.createElement("td",null,t+1),r.a.createElement("td",null,null===e||void 0===e?void 0:e.descripcion),r.a.createElement("td",{style:{textAlign:"center"}},e.anio),r.a.createElement("td",{style:{textAlign:"center"}},null===e||void 0===e||null===(a=e.Mes)||void 0===a?void 0:a.descripcion),r.a.createElement("td",{style:{textAlign:"center"}},1===e.estadoId?r.a.createElement("label",{className:"badge badge-light-success"},null===e||void 0===e||null===(n=e.Estado)||void 0===n?void 0:n.descripcion):r.a.createElement("label",{className:"badge badge-light-danger"},null===e||void 0===e||null===(o=e.Estado)||void 0===o?void 0:o.descripcion)),r.a.createElement("td",{style:{textAlign:"center"}},r.a.createElement("a",{href:"#",onClick:function(){!function(e){var t=y.find((function(t){return t.presupuestoId===e})),a=t.presupuestoId,n=t.anio,r=t.descripcion,o=t.mesId,c=t.estadoId,l=t.Detalle;U({presupuestoId:a,anio:n,descripcion:r,mesId:o,estadoId:c,Detalle:l}),O(!0)}(e.presupuestoId)}},r.a.createElement("i",{className:"icon feather icon-edit f-w-600 f-16 m-r-15 text-c-green"})),r.a.createElement("a",{href:"#",onClick:function(){var t;t=e.presupuestoId,I()(v.a).fire({title:"Alerta?",text:"Esta seguro que desea eliminar el elemento",type:"warning",showCloseButton:!0,showCancelButton:!0}).then(function(){var e=Object(l.a)(c.a.mark((function e(a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.value){e.next=8;break}return e.next=4,Object(p.a)("ctl/categoria/".concat(t),{method:"DELETE"});case 4:(n=e.sent)&&(Object(E.b)(n),r=y.filter((function(e){return e.presupuestoId!==t})),N(r)),e.next=9;break;case 8:Object(E.d)("No se elimin\xf3 ning\xfan elemento");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},r.a.createElement("i",{className:"feather icon-trash-2 f-w-600 f-16 text-c-red"}))))}))))))))))};t.default=function(){return r.a.createElement(A,null)}}}]);
//# sourceMappingURL=10.f31d1539.chunk.js.map