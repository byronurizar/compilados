(this.webpackJsonpapibase=this.webpackJsonpapibase||[]).push([[22],{275:function(e,a,t){"use strict";t.d(a,"a",(function(){return g}));var n=t(5),r=t.n(n),c=t(10),o=t(13),i=t(0),l=t.n(i),s=t(584),u=t(26),d=t(21),m=t(11),f=t(15),b=t(9),p=t(23),E=t(18),g=function(e){var a=e.dataInicial,t=e.abrirModal,n=e.setAbrirModal,g=e.GetListado,h=Object(p.a)(a),v=Object(o.a)(h,2),O=v[0],I=v[1],j=Object(i.useState)(!1),x=Object(o.a)(j,2),N=x[0],y=x[1],C=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)("categoria",{method:"POST",body:JSON.stringify(O)});case 2:e.sent&&(Object(b.b)("La categor\xeda se registro exitosamente"),g(),n(!1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)("categoria/".concat(a.categoriaId),{method:"PUT",body:JSON.stringify(O)});case 2:(t=e.sent)&&(Object(b.b)(t),g()),n(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),y(!0),!(a.categoriaId>0)){e.next=7;break}return e.next=5,w();case 5:e.next=9;break;case 7:return e.next=9,C();case 9:y(!1);case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement(s.a,{show:t,onHide:function(){return n(!1)}},!0===N?l.a.createElement(E.a,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a.Header,{closeButton:!0},l.a.createElement(s.a.Title,{as:"h5"},a.categoriaId>0?"Actualizar Categor\xeda":"Nueva Categor\xeda")),l.a.createElement(s.a.Body,null,l.a.createElement(m.ValidationForm,{onSubmit:k,onErrorSubmit:function(e,a,t){Object(b.c)("Por favor complete toda la informaci\xf3n solicitada por el formulario")}},l.a.createElement(u.a.Row,null,l.a.createElement(u.a.Group,{as:d.a,md:"12"},l.a.createElement(u.a.Label,{htmlFor:"nombre"},"Nombre"),l.a.createElement(m.TextInput,{name:"nombre",id:"nombre",required:!0,value:O.nombre,onChange:I,errorMessage:"Campo obligatorio",placeholder:"Nombre",autoComplete:"off",type:"text"})),l.a.createElement(u.a.Group,{as:d.a,md:"12"},l.a.createElement(u.a.Label,{htmlFor:"descripcion"},"Descripci\xf3n"),l.a.createElement(m.TextInput,{name:"descripcion",id:"descripcion",multiline:!0,required:!0,value:O.descripcion,onChange:I,errorMessage:"Campo obligatorio",placeholder:"Descripci\xf3n",autoComplete:"off",type:"text"})),a.categoriaId>0&&l.a.createElement(u.a.Group,{as:d.a,md:"12"},l.a.createElement(u.a.Label,{htmlFor:"estadoId"},"Estado"),l.a.createElement(m.SelectGroup,{name:"estadoId",id:"estadoId",value:O.estadoId,required:!0,errorMessage:"Campo obligatorio",onChange:I},l.a.createElement("option",{value:""},"Seleccione un estado"),l.a.createElement("option",{value:"1"},"Activo"),l.a.createElement("option",{value:"2"},"Inactivo"))),l.a.createElement("div",{className:"col-sm-3"}),l.a.createElement("div",{className:"col-sm-3"},l.a.createElement("button",{type:"button",onClick:function(){n(!1)},className:"btn btn-warning"}," Cancelar")),l.a.createElement("div",{className:"col-sm-3"},l.a.createElement("button",{type:"submit",className:"btn btn-success"}," ",a.categoriaId>0?"Actualizar":"Registrar")))))))}},577:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(5),o=t.n(c),i=t(10),l=t(13),s=t(71),u=t(21),d=t(367),m=t(386),f=t(246),b=t(95),p=t.n(b),E=t(22),g=t(96),h=t.n(g),v=t(14),O=t(15),I=t(9),j=t(275),x=t(84),N=t(18),y=t(87),C=function(){var e=Object(E.d)((function(e){return e})),a=Object(n.useState)(!0),t=Object(l.a)(a,2),c=t[0],b=t[1],g=Object(n.useState)([]),C=Object(l.a)(g,2),w=C[0],k=C[1],T=Object(n.useState)(!1),S=Object(l.a)(T,2),A=S[0],M=S[1],D=Object(n.useState)([]),F=Object(l.a)(D,2),L=F[0],z=F[1],_={categoriaId:"",nombre:"",descripcion:"",estadoId:1},G=Object(n.useState)(_),q=Object(l.a)(G,2),B=q[0],P=q[1],H=function(){var e=Object(i.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w.find((function(e){return 3===e.accesoId}))){e.next=8;break}return Object(y.b)("#tablecategoria"),b(!0),e.next=5,Object(O.a)("categoria?estadoId=1;2");case 5:(a=e.sent)&&z(a),Object(y.a)("#tablecategoria");case 8:b(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){!function(){if(null===e||void 0===e?void 0:e.accesos){var a=e.accesos.filter((function(e){return 32===e.menuId}));k(a)}b(!1)}()}),[null===e||void 0===e?void 0:e.accesos]),Object(n.useEffect)((function(){H()}),[w]),w.length>0&&r.a.createElement(v.a,null,r.a.createElement(s.a,{className:"btn-page"},r.a.createElement(u.a,{sm:12},r.a.createElement(d.a,null,r.a.createElement(d.a.Header,null,r.a.createElement(d.a.Title,{as:"h5"},"Categor\xedas")),r.a.createElement(d.a.Body,null,!0===c?r.a.createElement(N.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{className:"align-items-center m-l-0"},r.a.createElement(u.a,null),r.a.createElement(u.a,{className:"text-right"},w.find((function(e){return 1===e.accesoId}))&&r.a.createElement(m.a,{variant:"success",className:"btn-sm btn-round has-ripple",onClick:function(){M(!0),P(_)}},r.a.createElement("i",{className:"feather icon-plus"})," Agregar Categor\xeda"))),w.find((function(e){return 3===e.accesoId}))?r.a.createElement(f.a,{striped:!0,hover:!0,responsive:!0,bordered:!0,id:"tablecategoria"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Codigo"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Descripci\xf3n"),r.a.createElement("th",null,"Estado"),w.find((function(e){return 2===e.accesoId||4===e.accesoId}))&&r.a.createElement("th",null))),r.a.createElement("tbody",null,L.map((function(e){var a=e.categoriaId,t=e.nombre,n=e.descripcion,c=e.Estado.descripcion;return r.a.createElement("tr",{key:a},r.a.createElement("td",null,a),r.a.createElement("td",null,t),r.a.createElement("td",null,n),r.a.createElement("td",null,c),w.find((function(e){return 2===e.accesoId||4===e.accesoId}))&&r.a.createElement("td",{style:{textAlign:"center"}},w.find((function(e){return 2===e.accesoId}))&&r.a.createElement("button",{className:"btn-icon btn btn-info btn-sm",onClick:function(){!function(e){var a=L.find((function(a){return a.categoriaId===e})),t=a.categoriaId,n=a.nombre,r=a.descripcion,c=a.estadoId;P({categoriaId:t,nombre:n,descripcion:r,estadoId:c}),M(!0)}(a)}},r.a.createElement("i",{className:"feather icon-edit"})),w.find((function(e){return 4===e.accesoId}))&&r.a.createElement("button",{className:"btn-icon btn btn-danger btn-sm",onClick:function(){var e;e=a,h()(p.a).fire({title:"Alerta?",text:"Esta seguro que desea eliminar el elemento",type:"warning",showCloseButton:!0,showCancelButton:!0}).then(function(){var a=Object(i.a)(o.a.mark((function a(t){var n,r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.value){a.next=8;break}return a.next=4,Object(O.a)("categoria/".concat(e),{method:"DELETE"});case 4:(n=a.sent)&&(Object(I.b)(n),r=L.filter((function(a){return a.categoriaId!==e})),z(r)),a.next=9;break;case 8:Object(I.c)("No se elimin\xf3 ning\xfan elemento");case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}},r.a.createElement("i",{className:"feather icon-trash-2"}))))})))):r.a.createElement(x.a,null)),!0===A&&r.a.createElement(j.a,{abrirModal:A,setAbrirModal:M,GetListado:H,dataInicial:B}))))))};a.default=function(){return r.a.createElement(C,null)}},84:function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var n=t(0),r=t.n(n),c=t(71),o=t(21),i=t(583),l=t(14),s=function(){return r.a.createElement(l.a,null,r.a.createElement(c.a,null,r.a.createElement(o.a,null,r.a.createElement(i.a,{variant:"danger"},r.a.createElement(i.a.Heading,{as:"h4"},"Informaci\xf3n!"),r.a.createElement("p",null,"No esta autorizado para poder visualizar los elementos"),r.a.createElement("hr",null),r.a.createElement("p",{className:"mb-0"},"Comuniquese con el administrador para la asignaci\xf3n de permisos")))))}},87:function(e,a,t){"use strict";t.d(a,"a",(function(){return c})),t.d(a,"b",(function(){return o}));var n=t(97),r=t.n(n);r.a.DataTable=t(105),t(106);var c=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;setTimeout((function(){r()(e).DataTable().destroy(),r()(e).DataTable({searching:!0,bLengthChange:!1,bAutoWidth:!1,lengthMenu:[[10,25,50,-1],[10,25,50,"Todos"]],displayLength:a,language:{processing:"Cargando informaci\xf3n",search:"Filtrar por:",lengthMenu:"Mostrar _MENU_ filas",info:"Vizualizaci\xf3n  _END_ de _TOTAL_ filas",infoEmpty:"Vizualizaci\xf3n del elemento 0 a 0 de 0 filas",infoFiltered:"(Filtrado de _MAX_ filas en total)",infoPostFix:"",loadingRecords:"Cargando...",zeroRecords:"No se logr\xf3 encontrar ninguna coincidencia",emptyTable:"No existen registros",paginate:{first:"Primera",previous:"Anterior",next:"Siguiente",last:"Ultima"},aria:{sortAscending:": active para ordenar la columna en orden ascendente",sortDescending:": active para ordenar la columna en orden descendente"}}})}),0)},o=function(e){r()(e).DataTable().destroy()}}}]);
//# sourceMappingURL=22.322fe523.chunk.js.map