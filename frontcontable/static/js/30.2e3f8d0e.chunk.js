(this.webpackJsonpapibase=this.webpackJsonpapibase||[]).push([[30],{574:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),o=a.n(c),i=a(10),l=a(13),s=a(71),u=a(21),d=a(367),m=a(386),p=a(246),b=a(95),f=a.n(b),E=a(22),h=a(96),v=a.n(h),g=a(14),O=a(15),I=a(9),j=a(584),x=a(26),N=a(11),y=a(23),C=a(18),T=function(e){var t=e.dataInicial,a=e.abrirModal,c=e.setAbrirModal,s=e.GetListado,d=Object(y.a)(t),m=Object(l.a)(d,2),p=m[0],b=m[1],f=Object(n.useState)(!1),E=Object(l.a)(f,2),h=E[0],v=E[1],g=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)("tipopresentacion",{method:"POST",body:JSON.stringify(p)});case 2:e.sent&&(Object(I.b)("El tipo de presentaci\xf3n registrado exitosamente"),s(),c(!1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(i.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)("tipopresentacion/".concat(t.tipo_presentacionId),{method:"PUT",body:JSON.stringify(p)});case 2:(a=e.sent)&&(Object(I.b)(a),s()),c(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(i.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),v(!0),!(t.tipo_presentacionId>0)){e.next=7;break}return e.next=5,T();case 5:e.next=9;break;case 7:return e.next=9,g();case 9:v(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(j.a,{show:a,onHide:function(){return c(!1)}},!0===h?r.a.createElement(C.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement(j.a.Title,{as:"h5"},t.tipo_presentacionId>0?"Actualizar Tipo de Presentaci\xf3n":"Nuevo Tipo de Presentaci\xf3n")),r.a.createElement(j.a.Body,null,r.a.createElement(N.ValidationForm,{onSubmit:_,onErrorSubmit:function(e,t,a){Object(I.c)("Por favor complete toda la informaci\xf3n solicitada por el formulario")}},r.a.createElement(x.a.Row,null,r.a.createElement(x.a.Group,{as:u.a,md:"12"},r.a.createElement(x.a.Label,{htmlFor:"nombre"},"Nombre"),r.a.createElement(N.TextInput,{name:"nombre",id:"nombre",required:!0,value:p.nombre,onChange:b,errorMessage:"Campo obligatorio",placeholder:"Nombre",autoComplete:"off",type:"text"})),r.a.createElement(x.a.Group,{as:u.a,md:"12"},r.a.createElement(x.a.Label,{htmlFor:"descripcion"},"Descripci\xf3n"),r.a.createElement(N.TextInput,{name:"descripcion",id:"descripcion",multiline:!0,required:!0,value:p.descripcion,onChange:b,errorMessage:"Campo obligatorio",placeholder:"Descripci\xf3n",autoComplete:"off",type:"text"})),t.tipo_presentacionId>0&&r.a.createElement(x.a.Group,{as:u.a,md:"12"},r.a.createElement(x.a.Label,{htmlFor:"estadoId"},"Estado"),r.a.createElement(N.SelectGroup,{name:"estadoId",id:"estadoId",value:p.estadoId,required:!0,errorMessage:"Campo obligatorio",onChange:b},r.a.createElement("option",{value:""},"Seleccione un estado"),r.a.createElement("option",{value:"1"},"Activo"),r.a.createElement("option",{value:"2"},"Inactivo"))),r.a.createElement("div",{className:"col-sm-3"}),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("button",{type:"button",onClick:function(){c(!1)},className:"btn btn-warning"}," Cancelar")),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("button",{type:"submit",className:"btn btn-success"}," ",t.tipo_presentacionId>0?"Actualizar":"Registrar")))))))},_=a(84),w=a(87),k=function(){var e=Object(E.d)((function(e){return e})),t=Object(n.useState)(!0),a=Object(l.a)(t,2),c=a[0],b=a[1],h=Object(n.useState)([]),j=Object(l.a)(h,2),x=j[0],N=j[1],y=Object(n.useState)(!1),k=Object(l.a)(y,2),S=k[0],A=k[1],M=Object(n.useState)([]),D=Object(l.a)(M,2),F=D[0],z=D[1],L={tipo_presentacionId:"",nombre:"",descripcion:"",estadoId:1},P=Object(n.useState)(L),G=Object(l.a)(P,2),q=G[0],B=G[1],H=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x.find((function(e){return 3===e.accesoId}))){e.next=8;break}return Object(w.b)("#tablaElemento"),b(!0),e.next=5,Object(O.a)("tipopresentacion?estadoId=1;2");case 5:(t=e.sent)&&z(t),Object(w.a)("#tablaElemento");case 8:b(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){!function(){if(null===e||void 0===e?void 0:e.accesos){var t=e.accesos.filter((function(e){return 48===e.menuId}));N(t)}b(!1)}()}),[null===e||void 0===e?void 0:e.accesos]),Object(n.useEffect)((function(){H()}),[x]),x.length>0&&r.a.createElement(g.a,null,r.a.createElement(s.a,{className:"btn-page"},r.a.createElement(u.a,{sm:12},r.a.createElement(d.a,null,r.a.createElement(d.a.Header,null,r.a.createElement(d.a.Title,{as:"h5"},"Tipos de Presentaci\xf3n")),r.a.createElement(d.a.Body,null,!0===c?r.a.createElement(C.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{className:"align-items-center m-l-0"},r.a.createElement(u.a,null),r.a.createElement(u.a,{className:"text-right"},x.find((function(e){return 1===e.accesoId}))&&r.a.createElement(m.a,{variant:"success",className:"btn-sm btn-round has-ripple",onClick:function(){A(!0),B(L)}},r.a.createElement("i",{className:"feather icon-plus"})," Agregar"))),x.find((function(e){return 3===e.accesoId}))?r.a.createElement(p.a,{striped:!0,hover:!0,responsive:!0,bordered:!0,id:"tablaElemento"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Codigo"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Descripci\xf3n"),r.a.createElement("th",null,"Estado"),x.find((function(e){return 2===e.accesoId||4===e.accesoId}))&&r.a.createElement("th",null))),r.a.createElement("tbody",null,F.map((function(e){var t=e.tipo_presentacionId,a=e.nombre,n=e.descripcion,c=e.Estado.descripcion;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t),r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,c),x.find((function(e){return 2===e.accesoId||4===e.accesoId}))&&r.a.createElement("td",{style:{textAlign:"center"}},x.find((function(e){return 2===e.accesoId}))&&r.a.createElement("button",{className:"btn-icon btn btn-info btn-sm",onClick:function(){!function(e){var t=F.find((function(t){return t.tipo_presentacionId===e})),a=t.tipo_presentacionId,n=t.nombre,r=t.descripcion,c=t.estadoId;B({tipo_presentacionId:a,nombre:n,descripcion:r,estadoId:c}),A(!0)}(t)}},r.a.createElement("i",{className:"feather icon-edit"})),x.find((function(e){return 4===e.accesoId}))&&r.a.createElement("button",{className:"btn-icon btn btn-danger btn-sm",onClick:function(){var e;e=t,v()(f.a).fire({title:"Alerta?",text:"Esta seguro que desea eliminar el elemento",type:"warning",showCloseButton:!0,showCancelButton:!0}).then(function(){var t=Object(i.a)(o.a.mark((function t(a){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.value){t.next=8;break}return t.next=4,Object(O.a)("tipopresentacion/".concat(e),{method:"DELETE"});case 4:(n=t.sent)&&(Object(I.b)(n),r=F.filter((function(t){return t.tipo_presentacionId!==e})),z(r)),t.next=9;break;case 8:Object(I.c)("No se elimin\xf3 ning\xfan elemento");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},r.a.createElement("i",{className:"feather icon-trash-2"}))))})))):r.a.createElement(_.a,null)),!0===S&&r.a.createElement(T,{abrirModal:S,setAbrirModal:A,GetListado:H,dataInicial:q}))))))};t.default=function(){return r.a.createElement(k,null)}},84:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),r=a.n(n),c=a(71),o=a(21),i=a(583),l=a(14),s=function(){return r.a.createElement(l.a,null,r.a.createElement(c.a,null,r.a.createElement(o.a,null,r.a.createElement(i.a,{variant:"danger"},r.a.createElement(i.a.Heading,{as:"h4"},"Informaci\xf3n!"),r.a.createElement("p",null,"No esta autorizado para poder visualizar los elementos"),r.a.createElement("hr",null),r.a.createElement("p",{className:"mb-0"},"Comuniquese con el administrador para la asignaci\xf3n de permisos")))))}},87:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return o}));var n=a(97),r=a.n(n);r.a.DataTable=a(105),a(106);var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;setTimeout((function(){r()(e).DataTable().destroy(),r()(e).DataTable({searching:!0,bLengthChange:!1,bAutoWidth:!1,lengthMenu:[[10,25,50,-1],[10,25,50,"Todos"]],displayLength:t,language:{processing:"Cargando informaci\xf3n",search:"Filtrar por:",lengthMenu:"Mostrar _MENU_ filas",info:"Vizualizaci\xf3n  _END_ de _TOTAL_ filas",infoEmpty:"Vizualizaci\xf3n del elemento 0 a 0 de 0 filas",infoFiltered:"(Filtrado de _MAX_ filas en total)",infoPostFix:"",loadingRecords:"Cargando...",zeroRecords:"No se logr\xf3 encontrar ninguna coincidencia",emptyTable:"No existen registros",paginate:{first:"Primera",previous:"Anterior",next:"Siguiente",last:"Ultima"},aria:{sortAscending:": active para ordenar la columna en orden ascendente",sortDescending:": active para ordenar la columna en orden descendente"}}})}),0)},o=function(e){r()(e).DataTable().destroy()}}}]);
//# sourceMappingURL=30.2e3f8d0e.chunk.js.map