(this.webpackJsonpapibase=this.webpackJsonpapibase||[]).push([[16],{117:function(e,a,t){"use strict";t.d(a,"a",(function(){return c})),t.d(a,"b",(function(){return o}));var n=t(118),r=t.n(n);r.a.DataTable=t(121),t(126);var c=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;r()(e).DataTable({searching:!0,bLengthChange:!1,bAutoWidth:!1,lengthMenu:[[10,25,50,-1],[10,25,50,"Todos"]],displayLength:a,language:{processing:"Cargando informaci\xf3n",search:"Filtrar por:",lengthMenu:"Mostrar _MENU_ filas",info:"Vizualizaci\xf3n  _END_ de _TOTAL_ filas",infoEmpty:"Vizualizaci\xf3n del elemento 0 a 0 de 0 filas",infoFiltered:"(Filtrado de _MAX_ filas en total)",infoPostFix:"",loadingRecords:"Cargando...",zeroRecords:"No se logr\xf3 encontrar ninguna coincidencia",emptyTable:"No existen registros",paginate:{first:"Primera",previous:"Anterior",next:"Siguiente",last:"Ultima"},aria:{sortAscending:": active para ordenar la columna en orden ascendente",sortDescending:": active para ordenar la columna en orden descendente"}}})},o=function(e){r()(e).DataTable().destroy()}},127:function(e,a,t){"use strict";var n=t(0),r=t.n(n);a.a=r.a.createContext(null)},169:function(e,a,t){"use strict";var n=t(1),r=t(3),c=t(6),o=t.n(c),l=t(0),i=t.n(l),s=t(7),u=t(30),d=t(51),m=t(127),b=i.a.forwardRef((function(e,a){var t=e.bsPrefix,c=e.className,l=e.variant,u=e.as,d=void 0===u?"img":u,m=Object(r.a)(e,["bsPrefix","className","variant","as"]),b=Object(s.b)(t,"card-img");return i.a.createElement(d,Object(n.a)({ref:a,className:o()(l?b+"-"+l:b,c)},m))}));b.displayName="CardImg",b.defaultProps={variant:null};var f=b,p=Object(d.a)("h5"),E=Object(d.a)("h6"),h=Object(u.a)("card-body"),g=i.a.forwardRef((function(e,a){var t=e.bsPrefix,c=e.className,u=e.bg,d=e.text,b=e.border,f=e.body,p=e.children,E=e.as,g=void 0===E?"div":E,v=Object(r.a)(e,["bsPrefix","className","bg","text","border","body","children","as"]),O=Object(s.b)(t,"card"),j=Object(l.useMemo)((function(){return{cardHeaderBsPrefix:O+"-header"}}),[O]);return i.a.createElement(m.a.Provider,{value:j},i.a.createElement(g,Object(n.a)({ref:a},v,{className:o()(c,O,u&&"bg-"+u,d&&"text-"+d,b&&"border-"+b)}),f?i.a.createElement(h,null,p):p))}));g.displayName="Card",g.defaultProps={body:!1},g.Img=f,g.Title=Object(u.a)("card-title",{Component:p}),g.Subtitle=Object(u.a)("card-subtitle",{Component:E}),g.Body=h,g.Link=Object(u.a)("card-link",{Component:"a"}),g.Text=Object(u.a)("card-text",{Component:"p"}),g.Header=Object(u.a)("card-header"),g.Footer=Object(u.a)("card-footer"),g.ImgOverlay=Object(u.a)("card-img-overlay");a.a=g},418:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(4),o=t.n(c),l=t(10),i=t(12),s=t(76),u=t(21),d=t(169),m=t(120),b=t(33),f=t.n(b),p=t(43),E=t.n(p),h=t(34),g=t.n(h),v=t(25),O=t(48),j=t(13),N=t(14),x=t(117),y=t(11),I=t(49),C=t(16),k=function(){var e=Object(v.d)((function(e){return e})),a=Object(n.useState)(!0),t=Object(i.a)(a,2),c=t[0],b=t[1],p=Object(n.useState)([]),h=Object(i.a)(p,2),k=h[0],w=h[1],P=Object(n.useState)([]),_=Object(i.a)(P,2),T=_[0],D=_[1],M=function(){var e=Object(l.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k.find((function(e){return 3===e.accesoId}))){e.next=7;break}return Object(x.b)("#mytable"),b(!0),e.next=5,Object(N.a)("persona?&estadoId=1;2");case 5:(a=e.sent)&&D(a);case 7:b(!1),Object(x.a)("#mytable");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){!function(){if(null===e||void 0===e?void 0:e.accesos){var a=e.accesos.filter((function(e){return 12===e.menuId}));w(a)}b(!1)}()}),[]),Object(n.useEffect)((function(){M()}),[k]),r.a.createElement(j.a,null,r.a.createElement(s.a,{className:"btn-page"},r.a.createElement(u.a,{sm:12},r.a.createElement(d.a,null,r.a.createElement(d.a.Body,null,!0===c?r.a.createElement(C.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{className:"align-items-center m-l-0"},r.a.createElement(u.a,null),r.a.createElement(u.a,{className:"text-right"},k.find((function(e){return 1===e.accesoId}))&&r.a.createElement(O.a,{variant:"success",className:"btn-sm btn-round has-ripple",to:"/base/catalogo/personaupsert"},r.a.createElement("i",{className:"feather icon-plus"})," Nueva Persona"))),k.find((function(e){return 3===e.accesoId}))?r.a.createElement(m.a,{striped:!0,hover:!0,responsive:!0,bordered:!0,id:"mytable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Codigo"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Fecha de Nacimiento"),r.a.createElement("th",null,"Correo"),r.a.createElement("th",null,"Genero"),r.a.createElement("th",null,"Estado"),k.find((function(e){return 2===e.accesoId||4===e.accesoId}))&&r.a.createElement("th",null))),r.a.createElement("tbody",null,T.map((function(e){var a=e.personaId,t=e.nombre1,n=e.nombre2,c=e.nombre_otros,i=e.apellido1,s=e.apellido2,u=e.apellido_casada,d=e.email,m=e.fecha_nacimiento,b=e.Genero.descripcion,p=e.Estado.descripcion,h=t;return n&&(h+=" "+n),c&&(h+=" "+c),h+=" "+i,s&&(h+=" "+s),u&&(h+=" "+u),r.a.createElement("tr",{key:a},r.a.createElement("td",null,a),r.a.createElement("td",null,h),r.a.createElement("td",null,E()(m).format("DD/MM/YYYY")),r.a.createElement("td",null,d),r.a.createElement("td",null,b),r.a.createElement("td",null,p),k.find((function(e){return 2===e.accesoId||4===e.accesoId}))&&r.a.createElement("td",{style:{textAlign:"center"}},k.find((function(e){return 2===e.accesoId}))&&r.a.createElement(O.a,{className:"btn-icon btn btn-info btn-sm",to:"/base/catalogo/personaupsert/".concat(btoa("idpersona=".concat(e.personaId)))},r.a.createElement("i",{className:"feather icon-edit"})),k.find((function(e){return 4===e.accesoId}))&&r.a.createElement("button",{className:"btn-icon btn btn-danger btn-sm",onClick:function(){var a;a=e.personaId,g()(f.a).fire({title:"Alerta?",text:"Esta seguro que desea eliminar el elemento",type:"warning",showCloseButton:!0,showCancelButton:!0}).then(function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.value){e.next=8;break}return e.next=4,Object(N.a)("persona/".concat(a),{method:"DELETE"});case 4:(n=e.sent)&&(Object(y.b)(n),r=T.filter((function(e){return e.personaId!==a})),D(r)),e.next=9;break;case 8:Object(y.d)("No se elimin\xf3 ning\xfan elemento");case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}},r.a.createElement("i",{className:"feather icon-trash-2"}))))})))):r.a.createElement(I.a,null)))))))};a.default=function(){return r.a.createElement(k,null)}}}]);
//# sourceMappingURL=16.367227b6.chunk.js.map